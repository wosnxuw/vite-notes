# 虚拟化平台

主要关注几点

1、GPU 是否可以直通，是哪种直通

- **独占式直通（PCIe Passthrough）**：将物理 GPU 完全分配给虚拟机，宿主机无法使用该 GPU。
- **半虚拟化（Paravirtualization）**：通过虚拟化驱动（如 virtio-gpu）共享 GPU 资源，无需独占。
- **API 转发（API Forwarding）**：将 GPU 计算 API（如 CUDA）转发给虚拟机，例如 WSL2 的 GPU-PV 模式。
![image-20250225154914092](assets/image-20250225154914092.png)

据说 Hyper-V 也能实现共享 GPU，但是需要用一些偏门脚本

2、和主机之间网络拓扑是否可变

![image-20250225155028628](assets/image-20250225155028628.png)

![image-20250225152624700](assets/image-20250225152624700.png)

Hypervisor 虚拟机监视器，用于创建和管理虚拟机

Type-1 是 Hyper-V、ESXI、KVM。所有的操作系统都要虚拟化，包括当前的操作系统。Hyper-V 一般损失 1%，最大 5%。

Vistual Box、WMWare 是 Type-2

![image-20250225155749955](assets/image-20250225155749955.png)

1、WSL2

开启 WSL2 的前置条件是开启 Hyper-V

WSL1 是 微软把 linux 的命令翻译为了 windows 命令，因此没有真正的 Linux 内核，而且维护起来比较麻烦，所以放弃了

WSL2 是基于 Hyper-V，在这上面运行一个 真正的 Linux

```shell
C:\Users\liuyanming>wsl --list -v
  NAME              STATE           VERSION
* docker-desktop    Running         2
```

这里带 `*` 的是默认的

2、Hyper-V

家庭版无法使用

GPU 也能共享，但是稍微需要一点点操作

不支持拖拽文件，支持复制粘贴

网络拓扑没看到在哪里改

3、VMware WorkStation 

4、Virtual Box

5、PVE Proxmox Virtual Environment

6、Exsi

7、KVM Kernel Based Virtual Machine

8、qemu

9、Docker

Docker Desktop 默认会创建一个名为 docker-desktop 的 WSL 发行版，用于运行 Docker 守护进程和容器。这时候，即使启动多个容器，它们其实都是在同一个 Linux 内核下运行的，通过 Docker 的守护进程管理，而不是每个容器单独一个 WSL 实例。因此，所有容器共享同一个 Linux 内核，但彼此隔离，就像在普通的 Linux Docker 环境中一样